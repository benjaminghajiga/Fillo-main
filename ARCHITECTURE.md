# AgroConnect Architecture & System Design

## ğŸ—ï¸ System Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          AGROCONNECT PLATFORM                           â”‚
â”‚                        Production Ready System                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                              CLIENT LAYER
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Next.js Frontend (Vercel)                         â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Homepage   â”‚ â”‚    Auth     â”‚ â”‚   Farmer    â”‚ â”‚   Buyer     â”‚  â”‚
â”‚  â”‚   Pages     â”‚ â”‚   Pages     â”‚ â”‚  Dashboard  â”‚ â”‚  Marketplaceâ”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚  Checkout   â”‚ â”‚   Orders    â”‚ â”‚  Payment    â”‚                  â”‚
â”‚  â”‚   Page      â”‚ â”‚   Page      â”‚ â”‚  Selection  â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                                                      â”‚
â”‚              React + TypeScript + Zustand + Tailwind               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ HTTPS REST API Calls (Axios)
                   â”‚ JWT Authentication (Bearer Token)
                   â†“

                              API LAYER
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Express.js REST API (Railway/Fly.io)                    â”‚
â”‚                    Node.js + TypeScript                              â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                     Route Handlers                           â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â”‚  POST   /api/auth/register        Register new user         â”‚  â”‚
â”‚  â”‚  POST   /api/auth/login           Login user                â”‚  â”‚
â”‚  â”‚  POST   /api/products             Create product (farmers)  â”‚  â”‚
â”‚  â”‚  GET    /api/products             List products             â”‚  â”‚
â”‚  â”‚  POST   /api/orders               Create order (buyers)     â”‚  â”‚
â”‚  â”‚  GET    /api/orders               Get user orders           â”‚  â”‚
â”‚  â”‚  POST   /api/payments/paystack/*  Bank payment flow         â”‚  â”‚
â”‚  â”‚  POST   /api/payments/stacks/*    Crypto payment flow       â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                          â†“                    â†“                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚    Business Logic Layer     â”‚  â”‚  Authentication & Security â”‚   â”‚
â”‚  â”‚  (Controllers)              â”‚  â”‚  (Middleware)              â”‚   â”‚
â”‚  â”‚                             â”‚  â”‚                            â”‚   â”‚
â”‚  â”‚  - authController          â”‚  â”‚  - JWT verification        â”‚   â”‚
â”‚  â”‚  - productController        â”‚  â”‚  - Role-based access       â”‚   â”‚
â”‚  â”‚  - orderController          â”‚  â”‚  - Error handling          â”‚   â”‚
â”‚  â”‚  - paymentController        â”‚  â”‚  - CORS protection         â”‚   â”‚
â”‚  â”‚                             â”‚  â”‚  - Input validation (Zod)  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                â”‚                                â”‚                   â”‚
â”‚                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                 â†“                                    â”‚
â”‚                    Prisma ORM (Database Queries)                    â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ Prepared Statements (No SQL Injection)
                   â†“

                          DATABASE LAYER
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         PostgreSQL (Supabase or Neon) - Production Database          â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   User     â”‚  â”‚  Product   â”‚  â”‚   Order    â”‚  â”‚  Payment   â”‚   â”‚
â”‚  â”‚   Table    â”‚  â”‚   Table    â”‚  â”‚   Table    â”‚  â”‚   Table    â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ id         â”‚  â”‚ id         â”‚  â”‚ id         â”‚  â”‚ id         â”‚   â”‚
â”‚  â”‚ email      â”‚  â”‚ farmerId   â”‚  â”‚ buyerId    â”‚  â”‚ orderId    â”‚   â”‚
â”‚  â”‚ password   â”‚  â”‚ name       â”‚  â”‚ productId  â”‚  â”‚ userId     â”‚   â”‚
â”‚  â”‚ role       â”‚  â”‚ category   â”‚  â”‚ quantity   â”‚  â”‚ type       â”‚   â”‚
â”‚  â”‚ timestamps â”‚  â”‚ quantity   â”‚  â”‚ totalPrice â”‚  â”‚ status     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ priceUnit  â”‚  â”‚ status     â”‚  â”‚ reference  â”‚   â”‚
â”‚                  â”‚ available  â”‚  â”‚ timestamps â”‚  â”‚ metadata   â”‚   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ timestamps â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”‚FarmerProf. â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                                    â”‚
â”‚  â”‚ userId     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚  â”‚ farmName   â”‚  â”‚ Farmer     â”‚  â—„â”€ Foreign Key Relationships    â”‚
â”‚  â”‚ location   â”‚  â”‚ Profile    â”‚                                   â”‚
â”‚  â”‚ crops      â”‚  â”‚            â”‚                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚                                   â”‚ Buyer      â”‚                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚ Profile    â”‚                  â”‚
â”‚  â”‚BuyerProf.  â”‚                   â”‚            â”‚                  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚  â”‚ userId     â”‚                                                   â”‚
â”‚  â”‚ companyNameâ”‚  8 TABLES | 25+ COLUMNS | FULLY NORMALIZED       â”‚
â”‚  â”‚ location   â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚                        â”‚
                   â†“                        â†“

                 EXTERNAL SERVICES
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Paystack API Gateway   â”‚  â”‚  Stacks Blockchain       â”‚
â”‚   (Bank Transfers)       â”‚  â”‚  (Crypto Payments)       â”‚
â”‚                          â”‚  â”‚                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚  Payment Intent    â”‚  â”‚  â”‚ â”‚ Smart Contract     â”‚   â”‚
â”‚ â”‚  Creation          â”‚  â”‚  â”‚ â”‚ Escrow (Clarity)   â”‚   â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚ â”‚ User enters card   â”‚  â”‚  â”‚ â”‚ create-escrow()    â”‚   â”‚
â”‚ â”‚ info on Paystack   â”‚  â”‚  â”‚ â”‚ release-to-farmer()â”‚   â”‚
â”‚ â”‚ Form               â”‚  â”‚  â”‚ â”‚ refund-buyer()     â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚ â”‚ file-dispute()     â”‚   â”‚
â”‚                          â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚                          â”‚
â”‚ â”‚  Webhook           â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚  Verification      â”‚  â”‚  â”‚ â”‚ Wallet Integration â”‚   â”‚
â”‚ â”‚  Payment callback  â”‚  â”‚  â”‚ â”‚ (Leather/Xverse)  â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â”‚  â”‚                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Data Flow Diagram

### Farmer Adding Product Flow
```
Farmer Dashboard (Frontend)
        â”‚
        â”‚ Enter product details
        â”‚ (name, category, quantity, price)
        â†“
   Form Submission
        â”‚
        â”‚ POST /api/products
        â”‚ with JWT token
        â†“
Express Controller
        â”‚
        â”‚ Validate input (Zod)
        â”‚ Check authorization
        â”‚ Extract farmer ID from JWT
        â†“
Prisma ORM
        â”‚
        â”‚ Generate SQL INSERT
        â”‚ Execute prepared statement
        â†“
PostgreSQL
        â”‚
        â”‚ Create Product row
        â”‚ Set farmerId foreign key
        â”‚ Auto-fill timestamps
        â†“
Database Confirmation
        â”‚
        â”‚ Return created product
        â†“
Frontend
        â”‚
        â”‚ Update product list
        â”‚ Show success message
```

### Buyer Placing Order & Paying Flow
```
Buyer Marketplace (Frontend)
        â”‚
        â”‚ Click product
        â”‚ Enter quantity
        â†“
Checkout Page (Frontend)
        â”‚
        â”‚ Display:
        â”‚ - Product details
        â”‚ - Total price
        â”‚ - Payment options
        â†“
Choose Payment Method
        â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                     â”‚                      â”‚
        â†“                     â†“                      â†“
   Bank Transfer         Crypto Payment        (Future)
        â”‚                     â”‚
        â”‚                     â”‚ Wallet Connected
        â”‚                     â”‚
        â†“                     â†“
POST /api/orders      POST /api/orders
+ POST /api/payments/ + POST /api/payments/
paystack/initiate     stacks/initiate
        â”‚                     â”‚
        â†“                     â†“
Create Order          Create Order
Create Payment        Create Payment
        â”‚                     â”‚
        â†“                     â†“
Paystack API          User Signs
        â”‚             Transaction in Wallet
        â”‚                     â”‚
        â†“                     â†“
User enters card      Wallet broadcasts
info                  to Stacks Network
        â”‚                     â”‚
        â†“                     â†“
Paystack processes    Smart Contract
                      holds STX in escrow
        â”‚                     â”‚
        â†“                     â†“
Payment Success       User submits TX hash
Webhook               POST /api/payments/
        â”‚             stacks/verify
        â†“                     â”‚
Update Payment        Verify on blockchain
Status to COMPLETED           â”‚
                              â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                            â”‚
        â†“                                            â†“
Order Status: PAID                      Order Status: PAID
Payment Reference stored                TX Hash stored
                â”‚                                    â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â†“
                        Buyer Order Page
                        Shows order details
                        Status: PAID
                        Can confirm delivery
```

---

## ğŸ” Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    User Input                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â†“ (Frontend)
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ React Hook Form      â”‚
        â”‚ Client-side Validation
        â”‚ (HTML5 + Zod)        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
                           â”‚
                           â†“ (Network)
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ HTTPS Encrypted Transmission     â”‚
        â”‚ TLS 1.2+ Certificate             â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â†“ (Backend)
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ CORS Middleware                  â”‚
        â”‚ Origin verification              â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ JWT Authentication Middleware    â”‚
        â”‚ Verify Bearer token              â”‚
        â”‚ Extract user information         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Role-Based Access Control        â”‚
        â”‚ Check user.role permissions      â”‚
        â”‚ Verify resource ownership        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Input Validation with Zod        â”‚
        â”‚ Type checking                    â”‚
        â”‚ Format validation                â”‚
        â”‚ Range validation                 â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â†“ (Database)
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Prisma ORM Queries               â”‚
        â”‚ Prepared statements              â”‚
        â”‚ Parameterized queries            â”‚
        â”‚ SQL injection prevention         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ PostgreSQL                       â”‚
        â”‚ Row-level security               â”‚
        â”‚ Foreign key constraints          â”‚
        â”‚ Unique indexes                   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Password Security                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Input: plaintext password                            â”‚
â”‚   â”‚                                                  â”‚
â”‚   â†“ bcryptjs.hash()                                  â”‚
â”‚   â”œâ”€ Salt generation                                â”‚
â”‚   â”œâ”€ Multiple iterations (10 rounds)                â”‚
â”‚   â””â”€ Hash generation                                â”‚
â”‚   â”‚                                                  â”‚
â”‚   â†“ Database storage                                â”‚
â”‚   â””â”€ $2b$10$... (never plaintext)                    â”‚
â”‚                                                      â”‚
â”‚ Login: plaintext password                            â”‚
â”‚   â”‚                                                  â”‚
â”‚   â†“ bcryptjs.compare()                               â”‚
â”‚   â”œâ”€ Read stored hash                               â”‚
â”‚   â”œâ”€ Compute provided password                      â”‚
â”‚   â””â”€ Constant-time comparison                       â”‚
â”‚   â”‚                                                  â”‚
â”‚   â†“ Result: true/false                              â”‚
â”‚   â””â”€ Grant/deny access                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸŒ Deployment Architecture

```
                        PRODUCTION SETUP

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    GitHub Repository                    â”‚
â”‚            (Source code version control)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                       â”‚
        â†“                       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Vercel CI/CD   â”‚   â”‚  Railway CI/CD   â”‚
â”‚   (Frontend)     â”‚   â”‚  (Backend)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                      â”‚
         â†“                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Vercel Servers  â”‚   â”‚ Railway Servers  â”‚
â”‚  (Next.js App)   â”‚   â”‚ (Express API)    â”‚
â”‚                  â”‚   â”‚                  â”‚
â”‚  Domain: .com    â”‚   â”‚  Domain: .app    â”‚
â”‚  HTTPS enabled   â”‚   â”‚  HTTPS enabled   â”‚
â”‚  CDN cache       â”‚   â”‚  Auto-scaling    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                      â”‚
         â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚      â”‚
         â””â”€â”€â”¬â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚            â”‚
            â†“            â†“
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚  User's Browser          â”‚
      â”‚  (Frontend requests)     â”‚
      â”‚  (API calls)             â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                â”‚
                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                              â”‚
                â†“                              â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Supabase Conn â”‚          â”‚  Stacks API        â”‚
        â”‚  (PostgreSQL)  â”‚          â”‚  (Blockchain)      â”‚
        â”‚                â”‚          â”‚                    â”‚
        â”‚ db.example.io  â”‚          â”‚ api.stacks.co      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  External Payment APIs               â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚  Paystack: https://api.paystack.co   â”‚
        â”‚  Flutterwave: https://api.flutterwaveâ”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Component Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Frontend Layer                     â”‚
â”‚                                                    â”‚
â”‚  Pages Component â”€â”€â”€â”€â”€â”                           â”‚
â”‚       â”‚               â”‚                           â”‚
â”‚       â”œâ”€ Zustand â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Auth Store        â”‚
â”‚       â”‚               â”‚                           â”‚
â”‚       â””â”€ Axios Client â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ API Methods      â”‚
â”‚                       â”‚                           â”‚
â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€ Validation (Zod)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ HTTP Requests (JSON)
            â”‚ JWT Bearer Token
            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Backend Layer                      â”‚
â”‚                                                    â”‚
â”‚  Express Server                                    â”‚
â”‚       â”‚                                            â”‚
â”‚       â”œâ”€ Routes â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Middleware        â”‚
â”‚       â”‚                              â”‚             â”‚
â”‚       â”œâ”€ Controllers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Auth Check    â”‚
â”‚       â”‚       â”‚                      â”‚             â”‚
â”‚       â”‚       â””â”€ Business Logic â”€â”€â”€â”€ RBAC         â”‚
â”‚       â”‚               â”‚                           â”‚
â”‚       â”œâ”€ Utils â”€â”€â”€â”€â”€â”€â”€â”€ JWT/Password              â”‚
â”‚       â”‚       â”‚                                    â”‚
â”‚       â””â”€ Config â”€â”€â”€â”€â”€â”€ Database Connection        â”‚
â”‚                            â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Database Layer                     â”‚
â”‚                                                    â”‚
â”‚  Prisma ORM â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚       â”‚             â”‚                             â”‚
â”‚       â”œâ”€ Schema â”€â”€â”€â”€â”€ Migrations                  â”‚
â”‚       â”‚             â”‚                             â”‚
â”‚       â””â”€ Queries â”€â”€â”€â”€ PostgreSQL                  â”‚
â”‚             â”‚                                     â”‚
â”‚             â””â”€ SQL â”€â”€â”€â”€â”€â”€â”€â”€ Database Execution    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ User Role Matrix

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ROLE PERMISSIONS MATRIX               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Action              â”‚ Farmer â”‚ Buyer â”‚ Admin            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Register            â”‚   âœ“    â”‚   âœ“   â”‚   âœ“              â”‚
â”‚ Login               â”‚   âœ“    â”‚   âœ“   â”‚   âœ“              â”‚
â”‚ View Profile        â”‚   âœ“    â”‚   âœ“   â”‚   âœ“              â”‚
â”‚                     â”‚        â”‚       â”‚                  â”‚
â”‚ Create Product      â”‚   âœ“    â”‚   âœ—   â”‚   âœ“              â”‚
â”‚ Update Product      â”‚   âœ“*   â”‚   âœ—   â”‚   âœ“              â”‚
â”‚ Delete Product      â”‚   âœ“*   â”‚   âœ—   â”‚   âœ“              â”‚
â”‚ View All Products   â”‚   âœ“    â”‚   âœ“   â”‚   âœ“              â”‚
â”‚                     â”‚        â”‚       â”‚                  â”‚
â”‚ Place Order         â”‚   âœ—    â”‚   âœ“   â”‚   âœ—              â”‚
â”‚ View Own Orders     â”‚   âœ“    â”‚   âœ“   â”‚   âœ“              â”‚
â”‚ View All Orders     â”‚   âœ—    â”‚   âœ—   â”‚   âœ“              â”‚
â”‚ Cancel Order        â”‚   âœ—    â”‚   âœ“*  â”‚   âœ“              â”‚
â”‚                     â”‚        â”‚       â”‚                  â”‚
â”‚ View Payments       â”‚   âœ“    â”‚   âœ“   â”‚   âœ“              â”‚
â”‚ Initiate Payment    â”‚   âœ—    â”‚   âœ“   â”‚   âœ—              â”‚
â”‚ Process Refund      â”‚   âœ—    â”‚   âœ—   â”‚   âœ“              â”‚
â”‚                     â”‚        â”‚       â”‚                  â”‚
â”‚ View Reports        â”‚   âœ—    â”‚   âœ—   â”‚   âœ“              â”‚
â”‚ Manage Users        â”‚   âœ—    â”‚   âœ—   â”‚   âœ“              â”‚
â”‚                     â”‚        â”‚       â”‚                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Notes:              â”‚        â”‚       â”‚                  â”‚
â”‚ âœ“ = Full access     â”‚        â”‚       â”‚                  â”‚
â”‚ âœ“* = Own resources  â”‚        â”‚       â”‚                  â”‚
â”‚ âœ— = No access       â”‚        â”‚       â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‹ Deployment Checklist

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         PRODUCTION DEPLOYMENT CHECKLIST               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                        â”‚
â”‚ DATABASE SETUP                                        â”‚
â”‚  â˜ Create Supabase/Neon project                      â”‚
â”‚  â˜ Capture connection string                          â”‚
â”‚  â˜ Run Prisma migrations                             â”‚
â”‚  â˜ Enable backups                                     â”‚
â”‚  â˜ Configure firewall rules                          â”‚
â”‚                                                        â”‚
â”‚ BACKEND DEPLOYMENT                                    â”‚
â”‚  â˜ Set up Railway/Fly.io account                     â”‚
â”‚  â˜ Configure environment variables                    â”‚
â”‚  â˜ Set JWT_SECRET (64+ chars)                        â”‚
â”‚  â˜ Deploy backend application                        â”‚
â”‚  â˜ Verify health endpoint                            â”‚
â”‚  â˜ Test all API endpoints                            â”‚
â”‚                                                        â”‚
â”‚ PAYMENT GATEWAY SETUP                                â”‚
â”‚  â˜ Get Paystack live keys                            â”‚
â”‚  â˜ Configure webhook URL                             â”‚
â”‚  â˜ Test payment flow                                 â”‚
â”‚  â˜ Set up email notifications                        â”‚
â”‚                                                        â”‚
â”‚ BLOCKCHAIN SETUP                                      â”‚
â”‚  â˜ Deploy smart contract to mainnet                  â”‚
â”‚  â˜ Update STACKS_CONTRACT_ADDRESS                    â”‚
â”‚  â˜ Test escrow functionality                         â”‚
â”‚  â˜ Document contract address                         â”‚
â”‚                                                        â”‚
â”‚ FRONTEND DEPLOYMENT                                   â”‚
â”‚  â˜ Set up Vercel account                             â”‚
â”‚  â˜ Connect GitHub repository                         â”‚
â”‚  â˜ Configure environment variables                    â”‚
â”‚  â˜ Deploy frontend                                    â”‚
â”‚  â˜ Test all pages                                    â”‚
â”‚  â˜ Enable analytics                                   â”‚
â”‚                                                        â”‚
â”‚ MONITORING & SECURITY                                â”‚
â”‚  â˜ Enable database monitoring                        â”‚
â”‚  â˜ Set up error tracking (Sentry)                    â”‚
â”‚  â˜ Configure logging                                 â”‚
â”‚  â˜ Enable HTTPS/SSL                                  â”‚
â”‚  â˜ Set up rate limiting                              â”‚
â”‚  â˜ Configure firewall                                â”‚
â”‚                                                        â”‚
â”‚ TESTING                                               â”‚
â”‚  â˜ Test user registration                            â”‚
â”‚  â˜ Test farmer workflows                             â”‚
â”‚  â˜ Test buyer workflows                              â”‚
â”‚  â˜ Test Paystack payments                            â”‚
â”‚  â˜ Test Stacks payments                              â”‚
â”‚  â˜ Test order lifecycle                              â”‚
â”‚                                                        â”‚
â”‚ DOCUMENTATION                                         â”‚
â”‚  â˜ Document API endpoints                            â”‚
â”‚  â˜ Create admin guide                                â”‚
â”‚  â˜ Create user guide                                 â”‚
â”‚  â˜ Set up help documentation                         â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

This architecture document provides a complete visual overview of how AgroConnect
is structured, deployed, and secured in a production environment.
